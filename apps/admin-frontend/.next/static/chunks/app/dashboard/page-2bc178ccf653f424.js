(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{506:(e,s,t)=>{Promise.resolve().then(t.bind(t,4879))},4879:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(5155),l=t(2115),a=t(5695),n=t(6874),i=t.n(n),d=t(7372),o=t(5766);function c(){var e,s,t,n,c;let x=(0,a.useRouter)(),[m,h]=(0,l.useState)(null),[u,g]=(0,l.useState)(!0),[j,p]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(!localStorage.getItem("adminToken")){window.location.href="https://admin.dev.lowebi.com/";return}let e=localStorage.getItem("user");e&&p(JSON.parse(e)),v();let s=setInterval(v,3e4);return()=>clearInterval(s)},[x]);let v=async()=>{try{console.log("\uD83D\uDCCA Fetching dashboard stats...");let e=await o.u.getDashboardStats();console.log("✅ Dashboard stats loaded:",e),h(e)}catch(e){console.error("❌ Error fetching dashboard:",e),(null==e?void 0:e.status)===401||(null==e?void 0:e.status)===403?(console.log("\uD83D\uDD10 Authentication error, redirecting to login"),window.location.href="https://admin.dev.lowebi.com/"):h({customers:{total:0,active:0},sites:{total:0,active:0},aiQueue:{total:4,pending:3,processing:0,completed:1,totalRevenue:5.25},systemHealth:{status:"healthy"}})}finally{g(!1)}},b=[{name:"Nouvelle demande IA",href:"/dashboard/ai-queue",description:"Cr\xe9er une nouvelle demande de g\xe9n\xe9ration",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),color:"bg-blue-500 hover:bg-blue-600"},{name:"Voir tous les clients",href:"/dashboard/customers",description:"G\xe9rer les comptes clients",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),color:"bg-green-500 hover:bg-green-600"},{name:"Rapports Analytics",href:"/dashboard/analytics",description:"Voir les statistiques d\xe9taill\xe9es",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"bg-purple-500 hover:bg-purple-600"},{name:"Param\xe8tres syst\xe8me",href:"/dashboard/settings",description:"Configuration de la plateforme",icon:(0,r.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),color:"bg-gray-500 hover:bg-gray-600"}];return u?(0,r.jsx)(d.A,{children:(0,r.jsx)("div",{className:"min-h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Chargement du tableau de bord"}),(0,r.jsx)("p",{className:"text-gray-600",children:"R\xe9cup\xe9ration des statistiques..."})]})})}):(0,r.jsx)(d.A,{children:(0,r.jsx)("div",{className:"min-h-full bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg p-6 text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["Bienvenue, ",(null==j||null==(e=j.email)?void 0:e.split("@")[0])||"Admin"," \uD83D\uDC4B"]}),(0,r.jsx)("p",{className:"text-blue-100",children:"Voici un aper\xe7u de votre plateforme de g\xe9n\xe9ration de contenu IA"})]}),(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total des demandes"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null==m||null==(s=m.aiQueue)?void 0:s.total)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Queue IA"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"En attente"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:(null==m||null==(t=m.aiQueue)?void 0:t.pending)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"\xc0 traiter"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Termin\xe9es"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:(null==m||null==(n=m.aiQueue)?void 0:n.completed)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Succ\xe8s"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Revenus g\xe9n\xe9r\xe9s"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[(null==m||null==(c=m.aiQueue)?void 0:c.totalRevenue)||0,"€"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map((e,s)=>(0,r.jsx)(i(),{href:e.href,className:"group p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-md transition-all duration-200",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg ".concat(e.color," flex items-center justify-center text-white group-hover:scale-105 transition-transform duration-200"),children:e.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]})]})},s))})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statut syst\xe8me"}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"\xc9tat"}),(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-1.5"}),"Op\xe9rationnel"]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activit\xe9 r\xe9cente"}),(0,r.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Nouvelle demande IA re\xe7ue"}),(0,r.jsx)("span",{className:"text-gray-400 text-xs ml-auto",children:"Il y a 5 min"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Services g\xe9n\xe9r\xe9s pour test-site-001"}),(0,r.jsx)("span",{className:"text-gray-400 text-xs ml-auto",children:"Il y a 2h"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Nouveau client enregistr\xe9"}),(0,r.jsx)("span",{className:"text-gray-400 text-xs ml-auto",children:"Il y a 1j"})]})]})]})]})]})]})})})}}},e=>{e.O(0,[244,203,441,964,358],()=>e(e.s=506)),_N_E=e.O()}]);